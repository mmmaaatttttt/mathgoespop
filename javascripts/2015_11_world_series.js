$(function(){function a(){u.text(l(s.val(),r.val(),c.val(),e.val())),n(s.val(),r.val(),c.val(),e.val()),i.text(t(s.val(),r.val(),c.val(),e.val()))}function l(a,l,n,t){var r=parseFloat(a),e=parseFloat(n),s=parseFloat(l),c=parseFloat(t),u=(r+e)/(s+c),i=r/s,p=e/c,F=Math.sqrt(u*(1-u)*(1/s+1/c)),f=-Math.abs((i-p)/F),$=(1+o(f/Math.sqrt(2)))/2;return isNaN($)||v(a,l,n,t)?"--":$.toFixed(4)}function v(a,l,v,n){var t=parseFloat(a),o=parseFloat(v),r=parseFloat(l),e=parseFloat(n);return 5>t||5>r-t||5>o||5>e-o}function n(a,l,n,t){v(a,l,n,t)?p.show():p.hide()}function t(a,v,n,t){var o=parseFloat(l(a,v,n,t));return isNaN(o)?"--":.05>o?"YES!":"Nope..."}function o(a){var l=.254829592,v=-.284496736,n=1.421413741,t=-1.453152027,o=1.061405429,r=.3275911,e=1;0>a&&(e=-1),a=Math.abs(a);var s=1/(1+r*a),c=1-((((o*s+t)*s+n)*s+v)*s+l)*s*Math.exp(-a*a);return e*c}var r=$("#n1"),e=$("#n2"),s=$("#s1"),c=$("#s2"),u=$("#pval"),i=$("#sig"),p=$("#minVals"),F=$("#ws"),f=$("#lcs"),h=$("#wslcs"),k=$("#ws-reset");F.on("click",function(){s.val(18),c.val(18),r.val(60),e.val(44),a()}),f.on("click",function(){s.val(5),c.val(10),r.val(31),e.val(29),a()}),h.on("click",function(){s.val(23),c.val(28),r.val(91),e.val(73),a()}),k.on("click",function(){s.val(0),c.val(0),r.val(0),e.val(0),a()}),r.on("keyup blur change",function(){parseFloat(s.val())>parseFloat(r.val())&&s.val(r.val()),a()}),s.on("keyup blur change",function(){parseFloat(s.val())>parseFloat(r.val())&&r.val(s.val()),a()}),e.on("keyup blur change",function(){parseFloat(c.val())>parseFloat(e.val())&&c.val(e.val()),a()}),c.on("keyup blur change",function(){parseFloat(c.val())>parseFloat(e.val())&&e.val(c.val()),a()})});