function ScrubberView(){this.makeAccessors(),this.createDOM(),this.attachListeners(),this.onValueChanged=function(){}}ScrubberView.prototype.makeAccessors=function(){var t=0,e=0,i=1,n=0,a="horizontal";this.value=function(a){if(void 0===a)return t;if(t===a)return this;if(a=Math.max(e,Math.min(i,a)),n>0){var s=Math.round((a-e)/n),h=1/n;a=h===Math.round(h)?(e*h+s)/h:(e/n+s)*n,t=Math.max(e,Math.min(i,a))}else t=a;return this.redraw(),this.onValueChanged(t),this},this.min=function(t){return void 0===t?e:e===t?this:(e=t,this.redraw(),this)},this.max=function(t){return void 0===t?i:i===t?this:(i=t,this.redraw(),this)},this.step=function(t){return void 0===t?n:n===t?this:(n=t,this.redraw(),this)},this.orientation=function(t){return void 0===t?a:t===a?this:(a=t,this.redraw(),this)}},ScrubberView.prototype.createDOM=function(){this.elt=document.createElement("div"),this.track=document.createElement("div"),this.thumb=document.createElement("div"),this.elt.className="horizontal"===this.orientation()?"scrubber":"scrubber-vert",this.track.className="track",this.thumb.className="thumb",this.elt.appendChild(this.track),this.elt.appendChild(this.thumb)},ScrubberView.prototype.redraw=function(){var t=(this.value()-this.min())/(this.max()-this.min());"horizontal"===this.orientation()?(this.elt.className="scrubber",this.thumb.style.top="50%",this.thumb.style.left=100*t+"%"):(this.elt.className="scrubber-vert",this.thumb.style.left="50%",this.thumb.style.top=100-100*t+"%")},ScrubberView.prototype.attachListeners=function(){var t,e,i,n,a=this,s=!1,h=function(h){h.preventDefault(),s=!0;var r=a.elt.getBoundingClientRect(),o=window.pageXOffset,u=window.pageYOffset;t=r.left+o,e=r.width,i=r.top+u,n=r.height,a.thumb.className+=" dragging"},r=function(){s=!1,t=void 0,e=void 0,i=void 0,n=void 0,a.thumb.className="thumb"},o=function(i){var n=Math.min(1,Math.max((i-t)/e,0));a.value((1-n)*a.min()+n*a.max())},u=function(t){var e=Math.min(1,Math.max(1-(t-i)/n,0));a.value((1-e)*a.min()+e*a.max())};this.elt.addEventListener("mousedown",h),this.elt.addEventListener("touchstart",h),document.addEventListener("mousemove",function(t){s&&(t.preventDefault(),"horizontal"===a.orientation()?o(t.pageX):u(t.pageY))}),document.addEventListener("touchmove",function(t){s&&(t.preventDefault(),"horizontal"===a.orientation()?o(t.changedTouches[0].pageX):u(t.changedTouches[0].pageY))}),this.elt.addEventListener("mouseup",function(t){s&&(t.preventDefault(),"horizontal"===a.orientation()?o(t.pageX):u(t.pageY))}),this.elt.addEventListener("touchend",function(t){s&&(t.preventDefault(),"horizontal"===a.orientation()?o(t.changedTouches[0].pageX):u(t.changedTouches[0].pageY))}),document.addEventListener("mouseup",r),document.addEventListener("touchend",r)};